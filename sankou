 #include <stdio.h>
    #include <mpi.h>
    int main(int argc, char **argv) {
	char	name[MPI_MAX_PROCESSOR_NAME];
	int   	nprocs, procno, len;
	FILE * fp;
	char filename[128];
	
        MPI_Init( &argc, &argv );
        MPI_Comm_size( MPI_COMM_WORLD, &nprocs );
	MPI_Comm_rank( MPI_COMM_WORLD, &procno );
	MPI_Get_processor_name( name, &len );
	name[len] = '\0';
	printf( "Hello !! from %s@%d/%d\n", name, procno, nprocs);
	if( procno == 0  ){
		printf( "完成おめでとう!!\n");
	}
	//sleep(procno);

//	sleep(100);

//早すぎるから二重ww	
	MPI_Barrier( MPI_COMM_WORLD );
	MPI_Barrier( MPI_COMM_WORLD );
	
/*	sprintf(filename,"%s-%d.txt",name,procno);
	fp = fopen(filename,"w");
	fprintf(fp,"test");
	close(fp);
*/
	MPI_Finalize();

	return( 0 );
    }

